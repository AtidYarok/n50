---
import { Astronav, MenuItems, MenuIcon, Dropdown, DropdownItems, DropdownSubmenu } from "astro-navbar";
import PrimaryButton from '@components/buttons/PrimaryButton.astro'
import { Image } from 'astro:assets'
import { Icon } from 'astro-icon'

import logo from '@images/logo2.svg'

const navbar = {
  navigation: [
    { label: 'HOME', href: '/' },
    { label: 'ABOUT US', href: '/about' },
    { label: 'SERVICES', href: '/services' },
  ],
  action: {
    label: "CONTACT US",
    href: '/contact',
  },
}

const pathname = Astro.url.pathname.replace(/(?<=.)\/$/, '')

---

<header class="bg-white z-10">
  <!--Header-Upper-->
  <div class="mx-auto flex max-w-7xl items-center px-4 pt-6 sm:px-6 lg:px-8">
      <div class="flex w-full items-center justify-around">
        <div class="flex items-center">
          <a href="/" class="group text-2xl font-black lg:block">
          <div class="group flex h-36 w-full items-center justify-center rounded-3xl">
            <Image
            src={logo}
            alt="National 50"
            class="z-30 h-full w-auto "
          />
          </div>
          </a>
        </div>

        <div class="flex">

          <div class="flex">
            <Icon name="calendar" class="mr-2 h-7 w-7 text-red-400" />
            <div>
             <h3>Office Hours:</h3> 
             <h5 class="light-text">
              Moday - Friday: 11am - 7pm
             </h5>
            </div>
          </div>

          <div class="flex">
            <Icon name="phone" class="mx-2 h-7 w-7 text-red-400" />
            <div>
             <h3>TEL. 310-838-2329</h3> 
             <h5 class="light-text">
              FAX. 310-838-2985
             </h5>
            </div>
          </div>

          <div class="flex">
            <Icon name="checks" class="mx-2 h-7 w-7 text-red-400" />
            <div>
             <h3>E-MAIL US</h3> 
             <h5 class="light-text">
              info@national50.com
             </h5>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- <nav class="mx-auto flex max-w-7xl items-center px-4 py-6 sm:px-6 lg:px-8">
    <div class="flex w-full items-center justify-around">
      <div class="hidden items-center justify-around text-xl font-medium text-dark-900 md:flex md:space-x-0.5 md:text-base lg:space-x-2">
        {
          navbar.navigation.map((link) => (
            <a
              href={link.href}
              class:list={[
                'block px-4 py-1 sm:inline-block',
                pathname === link.href
                  ? 'border-t-red-400 border-t-2'
                  : 'duration-200 ease-in-out hover:border-t-red-400 hover:border-t-2',
              ]}
            >
              {link.label}
            </a>
          ))
        }
      </div>
      <div>
        
      </div>
      <div class="hidden md:block">
        {
          (
            <PrimaryButton href={navbar.action.href} class="bg-red-500 hover:transform-x-1">
              {navbar.action.label}
            </PrimaryButton>
          )
        }
      </div>
      <div class="block md:hidden" x-data="{ open: false }">
        <button
          class="group relative z-50 h-5 w-6 rotate-0 transform cursor-pointer transition duration-500 ease-in-out focus:outline-none"
          aria-label="Toggle Navigation"
          @click="open = !open"
        >
          <span
            class="absolute block h-1 rotate-0 transform rounded-full bg-dark-300 opacity-100 transition-all duration-300 ease-in-out group-hover:bg-white"
            :class="open ? 'top-2 left-1/2 w-0': 'w-full top-0 left-0'"></span>
          <span
            class="absolute left-0 top-2 block h-1 w-full transform rounded-full bg-dark-300 opacity-100 transition-all duration-300 ease-in-out group-hover:bg-white"
            :class="open ? 'rotate-45': 'rotate-0'"></span>
          <span
            class="absolute left-0 top-2 block h-1 w-full transform rounded-full bg-dark-300 opacity-100 transition-all duration-300 ease-in-out group-hover:bg-white"
            :class="open ? '-rotate-45': 'rotate-0'"></span>
          <span
            class="absolute block h-1 rotate-0 transform rounded-full bg-dark-300 opacity-100 transition-all duration-300 ease-in-out group-hover:bg-white"
            :class="open ? 'top-2 left-1/2 w-0': 'w-full left-0 top-4'"></span>
        </button>

        <div
          class="absolute left-0 top-0 z-40 flex h-screen w-screen items-center justify-center bg-gradient-to-tr from-dark-800 to-dark-900"
          @keydown.escape.window="open = false"
          @click.away="open = false"
          x-show="open"
          x-transition:enter="transition ease-out duration-300"
          x-transition:enter-start="opacity-0 -translate-y-full"
          x-transition:enter-end="opacity-100 translate-y-0"
          x-transition:leave="transition ease-in duration-200"
          x-transition:leave-start="opacity-100 translate-y-0"
          x-transition:leave-end="opacity-0 -translate-y-full"
          style="display: none"
        >
          <div
            class="mx-auto flex w-full flex-col items-center justify-evenly space-y-8 p-4 text-xl"
          >
            {
              navbar.navigation.map((link) => (
                <a
                  href={link.href}
                  class:list={[
                    'block rounded-full px-6 py-2 font-medium sm:inline-block',
                    pathname === link.href
                      ? 'bg-dark-700 text-white'
                      : 'text-dark-300 transition duration-200 ease-in-out hover:bg-dark-700 hover:text-white',
                  ]}
                >
                  {link.label}
                </a>
              ))
            }

            <PrimaryButton
              href={navbar.action.href}
              class="h-14 text-lg hover:bg-dark-700"
            >
              {navbar.action.label}
            </PrimaryButton>
          </div>
        </div>
      </div>
    </div>
  </nav> -->

  <header class="mx-auto flex max-w-7xl items-center justify-around px-4 py-6 sm:px-6 lg:px-8">
    <Astronav >
      
      <MenuItems class="hidden items-center justify-around text-xl font-medium text-dark-900 md:flex md:space-x-0.5 md:text-base lg:space-x-2 lg:flex z-30">
        <ul class="flex flex-col lg:flex-row lg:gap-5">
          <li>
              <a
                href="/"
                class:list={[
                  'block px-4 py-1 sm:inline-block',
                  pathname === "/"
                    ? 'border-t-red-400 border-t-2'
                    : 'duration-200 ease-in-out hover:border-t-red-400 hover:border-t-2',
                ]}
              >
              Home
              </a>
            </li>
            <li>
              <a
                href="/about"
                class:list={[
                  'block px-4 py-1 sm:inline-block',
                  pathname === "/about"
                    ? 'border-t-red-400 border-t-2'
                    : 'duration-200 ease-in-out hover:border-t-red-400 hover:border-t-2',
                ]}
              >
              About
              </a>
            </li>
          <li>
            <Dropdown class="group">
              <button
                class:list={[
                  'block px-4 py-1 sm:inline-block',
                  pathname === "/services"
                    ? 'border-t-red-400 border-t-2'
                    : 'duration-200 ease-in-out hover:border-t-red-400 hover:border-t-2',
                ]}
              >
              <but class="flex items-center">
                <span> Services </span>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke-width="3"
                  stroke="currentColor"
                  class="w-3 h-3 mt-0.5 group-open:rotate-180">
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M19.5 8.25l-7.5 7.5-7.5-7.5"></path>
                </svg>s
              <button/>
              <DropdownItems class="relative z-40 " >
                <div class="absolute top-0 w-max bg-white p-8">
                  <ul>
                    <a href="/services#services"><li class="pb-2">Uniformed Armed And Unarmed Guards</li></a>
                    <a href="/services#services"><li class="pb-2">Security Offices</li></a>
                    <a href="/services#services"><li class="pb-2">Customizable Security Solutions</li></a>
                    <a href="/services#services"><li class="pb-2">Electronic Tracking And Reporting</li></a>
                    <a href="/services#services"><li class="pb-2">CPR Certified Guards</li></a>
                    <a href="/services#services"><li class="pb-2">Field Supervisors </li></a>
                    <a href="/services#services"><li class="pb-2">24 Hours Communication</li></a>
                    <a href="/services#services"><li class="pb-2">Investigative Services</li></a>
                    <a href="/services#services"><li class="pb-2">Camera Systems And Trained Monitoring Officers</li></a>
                    <a href="/services#services"><li class="pb-2">Trained Dispatchers And BILI COMMUNICATION</li></a>
                    <a href="/services#services"><li class="pb-2">THREAT ANALYSIS, EVALUATION AND PREVENTION</li></a>
                    <a href="/services#services"><li class="pb-2">MOBILE SECURITY PATROL UNITS</li></a>
                  </ul>
                </div>
              </DropdownItems>
            </Dropdown>
          </li>
        </ul>
      </MenuItems>

      <div class="flex">
        <PrimaryButton href={navbar.action.href} class="bg-red-500 hover:transform-x-1">
          {navbar.action.label}
        </PrimaryButton>
        <div class="block lg:hidden">
          <MenuIcon class="w-4 h-4 text-gray-800" />
        </div>
      </div>
    </Astronav>
  </header>
 
</header>
